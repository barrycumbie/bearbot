<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Session Data | bearbot</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" rel="stylesheet">
  <link href="../styles/bear-style.css" rel="stylesheet">
</head>
<body class="container-fluid">

  <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center gap-2" href="../index.html">
        <span class="icon-large">üêª</span>
        <span class="fw-bold">bearbot</span>
        <span class="icon-large">ü§ñ</span>
      </a>
      <ul class="navbar-nav flex-row ms-3">
        <li class="nav-item">
          <a class="nav-link px-2" href="https://una.instructure.com/" target="_blank" rel="noopener">cnvs</a>
        </li>
      </ul>
      <div class="ms-auto d-flex align-items-center gap-3">
        <a href="login.html" title="Login" class="text-dark"><i class="bi bi-person-circle icon-large" style="cursor:pointer;"></i></a>
      </div>
    </div>
  </nav>

  <main class="container my-5">
    <div class="row">
      <div class="col-md-8 mx-auto">
        <h2 class="mb-4">Session Data & Storage</h2>
        
        <div class="card mb-4">
          <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Current Session Storage</h5>
            <span id="data-count" class="badge bg-primary">0 items</span>
          </div>
          <div class="card-body">
            <pre id="session-data" class="bg-light p-3 rounded border" style="max-height: 400px; overflow-y: auto;"></pre>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header">
            <h5 class="mb-0">Add Test Data</h5>
          </div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-6">
                <input type="text" class="form-control" id="test-key" placeholder="Key">
              </div>
              <div class="col-md-6">
                <input type="text" class="form-control" id="test-value" placeholder="Value">
              </div>
              <div class="col-12">
                <button id="add-data" class="btn btn-success">Add Data</button>
              </div>
            </div>
          </div>
        </div>

        <div class="d-flex gap-2 mb-4">
          <button id="clear-session" class="btn btn-danger">
            <i class="bi bi-trash"></i> Clear All Session Data
          </button>
          <button id="refresh-data" class="btn btn-outline-primary">
            <i class="bi bi-arrow-clockwise"></i> Refresh
          </button>
          <button id="download-json" class="btn btn-outline-info">
            <i class="bi bi-download"></i> Download JSON
          </button>
        </div>

        <div class="alert alert-info">
          <h6><i class="bi bi-info-circle"></i> About Session Storage</h6>
          <p class="mb-0">Session storage persists data only for the current browser session. Data is automatically cleared when the tab is closed. This is useful for temporary data like login status, form data, and user preferences.</p>
        </div>
      </div>
    </div>
  </main>

  <footer class="container-fluid d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
    <div class="d-flex align-items-center">
      <a href="../index.html" class="back-link me-3">
        <i class="bi bi-arrow-left"></i> Back to Home
      </a>
      <span class="mb-3 mb-md-0 text-muted">¬© 2026 bearbot (üêªü§ñ)</span>
    </div>
    <div class="d-flex align-items-center gap-3">
      <a href="https://github.com/barrycumbie/bearbot/" class="footer-link d-flex align-items-center" target="_blank" rel="noopener">
        <img src="https://github.githubassets.com/images/modules/logos_page/Octocat.png" alt="GitHub Octocat" width="24" height="24" class="me-1"/>
        &lt;source code/&gt;
      </a>
      <a href="https://github.com/barrycumbie" class="footer-link d-flex align-items-center" target="_blank" rel="noopener">
        <i class="bi bi-github icon-large"></i>
        <span class="ms-1">barrycumbie</span>
      </a>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../scripts/session.js"></script>
  <script src="../scripts/login-script.js"></script>
  <script src="../scripts/data.js"></script>
  <script>
    // Protect this page - require login
    document.addEventListener('DOMContentLoaded', function() {
      if (window.requireLogin && !window.requireLogin()) {
        return; // requireLogin will redirect if needed
      }
    });
  </script>

</body>
</html>
